{"ast":null,"code":"var _jsxFileName = \"/Users/tanvinaraynagowda/University-Scheduler--1/frontend/src/components/admin/schedule/ScheduleList.tsx\",\n  _s = $RefreshSig$();\n// src/components/admin/schedule/ScheduleList.tsx\nimport React, { useState, useEffect } from 'react';\nimport { Box, Card, CardContent, FormControl, InputLabel, MenuItem, Typography, CircularProgress, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Chip, Alert, Snackbar, ToggleButtonGroup, ToggleButton, IconButton, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Button, ListItemIcon, ListItemText, Select } from '@mui/material';\nimport ViewWeekIcon from '@mui/icons-material/ViewWeek';\nimport ViewDayIcon from '@mui/icons-material/ViewDay';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport scheduleService from '../../../services/scheduleService';\nimport semesterService from '../../../services/semesterService';\nimport CourseChangeDialog from './CourseChangeDialog';\n\n// Enhanced Schedule interface to include department_id and program_id\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\nconst ScheduleList = ({\n  selectedScheduleId,\n  forceRefresh = 0,\n  onScheduleDeleted,\n  onScheduleSelected,\n  departments = [],\n  programs = [],\n  selectedDepartment = '',\n  selectedProgram = '',\n  loadingDepartments = false,\n  loadingPrograms = false,\n  onDepartmentChange,\n  onProgramChange\n}) => {\n  _s();\n  // Define refreshCounter state variable\n  const [refreshCounter, setRefreshCounter] = useState(0);\n  const [schedules, setSchedules] = useState([]);\n  const [semesters, setSemesters] = useState([]);\n  const [selectedSchedule, setSelectedSchedule] = useState('');\n  const [scheduledCourses, setScheduledCourses] = useState([]);\n  const [allTimeSlots, setAllTimeSlots] = useState([]); // Renamed from timeSlots\n  const [loading, setLoading] = useState(true);\n  const [loadingCourses, setLoadingCourses] = useState(false);\n  const [selectedSemester, setSelectedSemester] = useState('');\n  // Changed default view mode to 'week' instead of 'day'\n  const [viewMode, setViewMode] = useState('week');\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n\n  // New state for delete confirmation dialog\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [scheduleToDelete, setScheduleToDelete] = useState('');\n  const [scheduleNameToDelete, setScheduleNameToDelete] = useState('');\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  // New state for course change dialog\n  const [courseChangeDialogOpen, setCourseChangeDialogOpen] = useState(false);\n  const [selectedCourseForChange, setSelectedCourseForChange] = useState(null);\n  useEffect(() => {\n    // This ensures the value is read\n    console.log('Schedule refresh triggered:', refreshCounter);\n  }, [refreshCounter]);\n\n  // Load semesters\n  useEffect(() => {\n    const fetchSemesters = async () => {\n      try {\n        const data = await semesterService.getAllSemesters();\n        setSemesters(data);\n        if (data.length > 0) {\n          // Select the most recent semester by default\n          const sortedSemesters = [...data].sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n          setSelectedSemester(sortedSemesters[0].semester_id);\n        }\n      } catch (error) {\n        console.error('Error fetching semesters:', error);\n        setSnackbar({\n          open: true,\n          message: 'Failed to load semesters',\n          severity: 'error'\n        });\n      }\n    };\n    fetchSemesters();\n  }, []);\n\n  // Load schedules for selected semester\n  // Load schedules for selected semester\n  useEffect(() => {\n    if (!selectedSemester) return;\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        console.log('Fetching schedules for semester:', selectedSemester);\n        console.log('Selected department:', selectedDepartment);\n        console.log('Selected program:', selectedProgram);\n        console.log('ForceRefresh value:', forceRefresh);\n\n        // Pass department and program IDs to the service call\n        const data = await scheduleService.getSchedulesBySemester(selectedSemester, selectedDepartment || undefined, selectedProgram || undefined);\n        console.log('Fetched schedules:', data);\n        setSchedules(data);\n\n        // If there's a selected schedule ID from props, use it\n        if (selectedScheduleId && data.some(s => s.schedule_id === selectedScheduleId)) {\n          console.log('Setting selected schedule to selectedScheduleId:', selectedScheduleId);\n          setSelectedSchedule(selectedScheduleId);\n        } else if (data.length > 0) {\n          console.log('Setting selected schedule to first schedule:', data[0].schedule_id);\n          setSelectedSchedule(data[0].schedule_id);\n          // Call the callback to notify parent of selection\n          if (onScheduleSelected) {\n            onScheduleSelected(data[0].schedule_id);\n          }\n        } else {\n          console.log('No schedules found, clearing selected schedule');\n          setSelectedSchedule('');\n          setScheduledCourses([]);\n        }\n      } catch (error) {\n        console.error('Error fetching schedules:', error);\n        setSnackbar({\n          open: true,\n          message: 'Failed to load schedules for semester',\n          severity: 'error'\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n    console.log('Schedules useEffect triggered');\n    console.log('Selected semester:', selectedSemester);\n    console.log('Selected department:', selectedDepartment);\n    console.log('Selected program:', selectedProgram);\n    console.log('Selected schedule ID from props:', selectedScheduleId);\n    console.log('ForceRefresh value:', forceRefresh);\n    fetchData();\n  }, [selectedSemester, selectedDepartment, selectedProgram, selectedScheduleId, forceRefresh, onScheduleSelected]);\n\n  // Auto-select the first schedule when there's only one and notify parent\n  useEffect(() => {\n    if (schedules.length === 1 && schedules[0].schedule_id && onScheduleSelected) {\n      console.log(\"Auto-selecting the only schedule:\", schedules[0].schedule_id);\n      setSelectedSchedule(schedules[0].schedule_id);\n      onScheduleSelected(schedules[0].schedule_id);\n    }\n  }, [schedules, onScheduleSelected]);\n\n  // Load all time slots\n  useEffect(() => {\n    const fetchTimeSlots = async () => {\n      try {\n        const data = await scheduleService.getAllTimeSlots();\n        setAllTimeSlots(data); // Now using allTimeSlots\n      } catch (error) {\n        console.error('Error fetching time slots:', error);\n        setSnackbar({\n          open: true,\n          message: 'Failed to load time slots',\n          severity: 'error'\n        });\n      }\n    };\n    fetchTimeSlots();\n  }, []);\n\n  // Load scheduled courses for selected schedule\n  useEffect(() => {\n    const fetchScheduledCourses = async () => {\n      if (!selectedSchedule) return;\n      try {\n        setLoadingCourses(true);\n        console.log('Fetching scheduled courses for schedule:', selectedSchedule);\n        const data = await scheduleService.getScheduledCourses(selectedSchedule);\n        console.log('Fetched scheduled courses:', data.length);\n        setScheduledCourses(data);\n      } catch (error) {\n        console.error('Error fetching scheduled courses:', error);\n        setSnackbar({\n          open: true,\n          message: 'Failed to load scheduled courses',\n          severity: 'error'\n        });\n      } finally {\n        setLoadingCourses(false);\n      }\n    };\n    fetchScheduledCourses();\n  }, [selectedSchedule]);\n\n  // Fixed the type for event parameter\n  const handleSemesterChange = event => {\n    setSelectedSemester(event.target.value);\n  };\n\n  // Fixed the type for event parameter\n  const handleScheduleChange = event => {\n    const newScheduleId = event.target.value;\n    console.log(\"Schedule selected manually:\", newScheduleId);\n    setSelectedSchedule(newScheduleId);\n    if (onScheduleSelected && newScheduleId) {\n      console.log(\"Calling onScheduleSelected with:\", newScheduleId);\n      onScheduleSelected(newScheduleId);\n    }\n  };\n  const handleViewModeChange = (event, newViewMode) => {\n    if (newViewMode) {\n      setViewMode(newViewMode);\n    }\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n\n  // Functions for course change dialog\n  const handleCourseClick = course => {\n    setSelectedCourseForChange(course);\n    setCourseChangeDialogOpen(true);\n  };\n  const handleCourseChangeDialogClose = () => {\n    setCourseChangeDialogOpen(false);\n    setSelectedCourseForChange(null);\n  };\n  const handleCourseChanged = () => {\n    console.log(\"Course changed, refreshing data\");\n    // Force refresh the schedule list using the local state update function\n    setRefreshCounter(prev => prev + 1);\n\n    // Notify parent of changes if callback exists\n    if (onScheduleSelected && selectedSchedule) {\n      onScheduleSelected(selectedSchedule);\n    }\n  };\n\n  // New functions for schedule deletion\n  const handleDeleteClick = (scheduleId, scheduleName) => {\n    setScheduleToDelete(scheduleId);\n    setScheduleNameToDelete(scheduleName);\n    setDeleteDialogOpen(true);\n  };\n  const handleCloseDeleteDialog = () => {\n    setDeleteDialogOpen(false);\n    setScheduleToDelete('');\n    setScheduleNameToDelete('');\n  };\n  const handleConfirmDelete = async () => {\n    if (!scheduleToDelete) return;\n    try {\n      setDeleteLoading(true);\n      await scheduleService.deleteSchedule(scheduleToDelete);\n      setSnackbar({\n        open: true,\n        message: 'Schedule deleted successfully',\n        severity: 'success'\n      });\n\n      // Remove the deleted schedule from state\n      const updatedSchedules = schedules.filter(s => s.schedule_id !== scheduleToDelete);\n      setSchedules(updatedSchedules);\n\n      // Update selected schedule if the deleted one was selected\n      if (selectedSchedule === scheduleToDelete) {\n        if (updatedSchedules.length > 0) {\n          setSelectedSchedule(updatedSchedules[0].schedule_id);\n          // Notify parent of new selection\n          if (onScheduleSelected) {\n            onScheduleSelected(updatedSchedules[0].schedule_id);\n          }\n        } else {\n          setSelectedSchedule('');\n          setScheduledCourses([]);\n        }\n      }\n\n      // Call the callback if provided\n      if (onScheduleDeleted) {\n        onScheduleDeleted();\n      }\n    } catch (error) {\n      console.error('Error deleting schedule:', error);\n      setSnackbar({\n        open: true,\n        message: 'Failed to delete schedule',\n        severity: 'error'\n      });\n    } finally {\n      setDeleteLoading(false);\n      handleCloseDeleteDialog();\n    }\n  };\n\n  // Helper function to get time slots for a specific day\n  const getTimeSlotsForDay = day => {\n    return allTimeSlots // Changed from timeSlots to allTimeSlots\n    .filter(slot => slot.day_of_week === day).sort((a, b) => {\n      const timeA = new Date(`1970-01-01T${a.start_time}`).getTime();\n      const timeB = new Date(`1970-01-01T${b.start_time}`).getTime();\n      return timeA - timeB;\n    });\n  };\n\n  // Helper function to get courses scheduled for a specific time slot and day\n  const getCoursesForTimeSlot = (timeslotId, day) => {\n    return scheduledCourses.filter(course => course.timeslot_id === timeslotId && course.day_of_week === day);\n  };\n\n  // Get all unique time slots across all days sorted by start time\n  const getUniqueTimeSlots = () => {\n    // Map to store unique time slots by time range\n    // Key format: \"start_time-end_time\"\n    const uniqueSlots = new Map();\n\n    // Group time slots by time range (regardless of day)\n    allTimeSlots.forEach(slot => {\n      var _uniqueSlots$get;\n      // Changed from timeSlots to allTimeSlots\n      const timeKey = `${slot.start_time}-${slot.end_time}`;\n      if (!uniqueSlots.has(timeKey)) {\n        uniqueSlots.set(timeKey, []);\n      }\n      (_uniqueSlots$get = uniqueSlots.get(timeKey)) === null || _uniqueSlots$get === void 0 ? void 0 : _uniqueSlots$get.push(slot);\n    });\n\n    // Convert the map to array and sort by start time\n    return Array.from(uniqueSlots.entries()).map(([_, slots]) => slots[0]) // Take the first slot from each group\n    .sort((a, b) => {\n      const timeA = new Date(`1970-01-01T${a.start_time}`).getTime();\n      const timeB = new Date(`1970-01-01T${b.start_time}`).getTime();\n      return timeA - timeB;\n    });\n  };\n\n  // Find the timeslot ID for a specific time range and day\n  const getTimeslotIdForTimeAndDay = (timeStart, timeEnd, day) => {\n    const slot = allTimeSlots.find(\n    // Changed from timeSlots to allTimeSlots\n    s => s.start_time === timeStart && s.end_time === timeEnd && s.day_of_week === day);\n    return slot === null || slot === void 0 ? void 0 : slot.timeslot_id;\n  };\n\n  // Render a schedule cell (containing courses for a specific time slot and day)\n  const renderScheduleCell = (timeslotId, day) => {\n    // Early return if timeslotId is undefined (may happen in week view for some combinations)\n    if (!timeslotId) return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: '100%',\n        minHeight: '60px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 25\n    }, this);\n    const courses = getCoursesForTimeSlot(timeslotId, day);\n    if (courses.length === 0) {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          height: '100%',\n          minHeight: '60px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 8\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 1\n      },\n      children: courses.map((course, index) => {\n        var _course$course, _course$professor, _course$professor2;\n        // Safely check if course has is_core property through the course object\n        const isCoreClass = course.course && 'is_core' in course.course ? Boolean(course.course.is_core) : false;\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: index !== courses.length - 1 ? 1 : 0,\n            p: 1,\n            borderRadius: 1,\n            bgcolor: isCoreClass ? '#e3f2fd' : '#f1f8e9',\n            cursor: 'pointer',\n            '&:hover': {\n              opacity: 0.9,\n              boxShadow: 1\n            }\n          },\n          onClick: () => handleCourseClick(course),\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            fontWeight: \"bold\",\n            children: [course.course_id, \" - \", ((_course$course = course.course) === null || _course$course === void 0 ? void 0 : _course$course.course_name) || 'Unnamed Course']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            display: \"block\",\n            children: [\"Prof: \", ((_course$professor = course.professor) === null || _course$professor === void 0 ? void 0 : _course$professor.first_name) || '', \" \", ((_course$professor2 = course.professor) === null || _course$professor2 === void 0 ? void 0 : _course$professor2.last_name) || '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 1\n          }, this), course.is_override && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"Manual Override\",\n            size: \"small\",\n            color: \"default\",\n            sx: {\n              mt: 0.5,\n              fontSize: '0.6rem',\n              height: '18px',\n              '& .MuiChip-label': {\n                padding: '0 6px'\n              },\n              backgroundColor: '#F69420',\n              color: '#ffffff'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 1\n          }, this)]\n        }, course.scheduled_course_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 1\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 1\n    }, this);\n  };\n\n  // Render the day view (current view)\n  const renderDayView = () => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: DAYS_OF_WEEK.map((day, dayIndex) => {\n        const dayTimeSlots = getTimeSlotsForDay(day);\n        if (dayTimeSlots.length === 0) return null;\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            sx: {\n              borderBottom: '2px solid #00539F',\n              pb: 1,\n              color: '#00539F',\n              fontWeight: 'bold'\n            },\n            children: day\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n            component: Paper,\n            sx: {\n              boxShadow: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              size: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  sx: {\n                    bgcolor: '#f5f5f5'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    width: \"20%\",\n                    children: \"Time Slot\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 1\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Scheduled Courses\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 1\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 1\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: dayTimeSlots.map((slot, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n                  sx: {\n                    borderBottom: index < dayTimeSlots.length - 1 ? '1px solid #e0e0e0' : 'none',\n                    '&:nth-of-type(odd)': {\n                      bgcolor: '#fafafa'\n                    }\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    sx: {\n                      borderRight: '1px solid #e0e0e0'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      fontWeight: \"medium\",\n                      children: slot.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 1\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      display: \"block\",\n                      children: [slot.start_time.substring(0, 5), \" - \", slot.end_time.substring(0, 5)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 548,\n                      columnNumber: 1\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 1\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: renderScheduleCell(slot.timeslot_id, day)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 1\n                  }, this)]\n                }, slot.timeslot_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 1\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 1\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 1\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 1\n          }, this), dayIndex < DAYS_OF_WEEK.length - 1 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              height: '30px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 1\n          }, this)]\n        }, day, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 1\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 1\n    }, this);\n  };\n\n  // Render the new week view\n  const renderWeekView = () => {\n    const uniqueTimeSlots = getUniqueTimeSlots();\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        sx: {\n          boxShadow: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                bgcolor: '#f5f5f5'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                width: \"15%\",\n                sx: {\n                  borderBottom: '2px solid #00539F'\n                },\n                children: \"Time Slot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 1\n              }, this), DAYS_OF_WEEK.map(day => /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                width: `${85 / DAYS_OF_WEEK.length}%`,\n                sx: {\n                  borderBottom: '2px solid #00539F',\n                  color: '#00539F',\n                  fontWeight: 'bold'\n                },\n                children: day\n              }, day, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 1\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 1\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: uniqueTimeSlots.map((timeSlot, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                borderBottom: index < uniqueTimeSlots.length - 1 ? '1px solid #e0e0e0' : 'none',\n                '&:nth-of-type(odd)': {\n                  bgcolor: '#fafafa'\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  borderRight: '1px solid #e0e0e0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  fontWeight: \"medium\",\n                  children: timeSlot.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 1\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  display: \"block\",\n                  children: [timeSlot.start_time.substring(0, 5), \" - \", timeSlot.end_time.substring(0, 5)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 1\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 1\n              }, this), DAYS_OF_WEEK.map((day, dayIndex) => {\n                const timeslotId = getTimeslotIdForTimeAndDay(timeSlot.start_time, timeSlot.end_time, day);\n                return /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    minWidth: '150px',\n                    borderRight: dayIndex < DAYS_OF_WEEK.length - 1 ? '1px solid #e0e0e0' : 'none'\n                  },\n                  children: timeslotId && renderScheduleCell(timeslotId, day)\n                }, `${timeSlot.start_time}-${day}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 1\n                }, this);\n              })]\n            }, `${timeSlot.start_time}-${timeSlot.end_time}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 1\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 1\n    }, this);\n  };\n\n  // Custom rendering of the MenuItem with a delete button\n  const renderScheduleMenuItem = schedule => /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      width: '100%',\n      pr: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center'\n      },\n      children: [schedule.is_final && /*#__PURE__*/_jsxDEV(ListItemIcon, {\n        sx: {\n          minWidth: 32\n        },\n        children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          color: \"success\",\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n        children: schedule.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      size: \"small\",\n      color: \"error\",\n      onClick: event => {\n        event.stopPropagation(); // Prevent the MenuItem from being selected\n        handleDeleteClick(schedule.schedule_id, schedule.name);\n      },\n      sx: {\n        visibility: 'hidden',\n        '.MuiMenuItem-root:hover &': {\n          visibility: 'visible'\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n        fontSize: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 647,\n    columnNumber: 1\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 4,\n        boxShadow: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Course Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 2,\n            flexDirection: {\n              xs: 'column',\n              sm: 'row'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"department-select-label\",\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"department-select-label\",\n              id: \"department-select\",\n              value: selectedDepartment,\n              label: \"Department\",\n              onChange: onDepartmentChange,\n              disabled: loadingDepartments,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: \"All Departments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 1\n              }, this), departments.map(department => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: department.department_id,\n                children: department.name\n              }, department.department_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 1\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              flex: 1\n            },\n            disabled: !selectedDepartment || loadingPrograms,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"program-select-label\",\n              children: \"Program\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"program-select-label\",\n              id: \"program-select\",\n              value: selectedProgram,\n              label: \"Program\",\n              onChange: onProgramChange,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: \"All Programs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 1\n              }, this), programs.map(program => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: program.program_id,\n                children: program.name\n              }, program.program_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 1\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 2,\n            flexDirection: {\n              xs: 'column',\n              sm: 'row'\n            },\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"semester-select-label\",\n              children: \"Semester\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"semester-select-label\",\n              id: \"semester-select\",\n              value: selectedSemester,\n              label: \"Semester\",\n              onChange: handleSemesterChange,\n              disabled: loading,\n              children: semesters.map(semester => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: semester.semester_id,\n                children: semester.name\n              }, semester.semester_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 1\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"schedule-select-label\",\n              children: \"Schedule\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"schedule-select-label\",\n              id: \"schedule-select\",\n              value: selectedSchedule,\n              label: \"Schedule\",\n              onChange: handleScheduleChange,\n              disabled: loading || schedules.length === 0,\n              MenuProps: {\n                PaperProps: {\n                  sx: {\n                    maxHeight: 300,\n                    '& .MuiMenuItem-root': {\n                      padding: '4px 16px',\n                      '&:hover': {\n                        '& .MuiIconButton-root': {\n                          visibility: 'visible'\n                        }\n                      }\n                    }\n                  }\n                }\n              },\n              children: schedules.length === 0 ? /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: \"No schedules available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 1\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 1\n              }, this) : schedules.map(schedule => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: schedule.schedule_id,\n                children: renderScheduleMenuItem(schedule)\n              }, schedule.schedule_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 1\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(ToggleButtonGroup, {\n            value: viewMode,\n            exclusive: true,\n            onChange: handleViewModeChange,\n            \"aria-label\": \"view mode\",\n            disabled: loading || loadingCourses,\n            sx: {\n              height: {\n                sm: '56px'\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(ToggleButton, {\n              value: \"week\",\n              \"aria-label\": \"week view\",\n              children: [/*#__PURE__*/_jsxDEV(ViewWeekIcon, {\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 1\n              }, this), \"Week View\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n              value: \"day\",\n              \"aria-label\": \"day view\",\n              children: [/*#__PURE__*/_jsxDEV(ViewDayIcon, {\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 1\n              }, this), \"Day View\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 803,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2,\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Legend:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 1\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 2,\n                mt: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    width: 16,\n                    height: 16,\n                    bgcolor: '#e3f2fd',\n                    borderRadius: 1,\n                    mr: 0.5\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 817,\n                  columnNumber: 1\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  children: \"Core Courses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 818,\n                  columnNumber: 1\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    width: 16,\n                    height: 16,\n                    bgcolor: '#f1f8e9',\n                    borderRadius: 1,\n                    mr: 0.5\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 821,\n                  columnNumber: 1\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  children: \"Elective Courses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 1\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    width: 16,\n                    height: 16,\n                    bgcolor: '#fff3cd',\n                    borderRadius: 1,\n                    mr: 0.5\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 825,\n                  columnNumber: 1\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  children: \"Manual Override\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 826,\n                  columnNumber: 1\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 1\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 1\n          }, this), scheduledCourses.length > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [scheduledCourses.length, \" courses scheduled\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 1\n    }, this), loadingCourses ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        my: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 841,\n      columnNumber: 1\n    }, this) : schedules.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"info\",\n      sx: {\n        mt: 2\n      },\n      children: \"No schedules available for the selected semester. Generate a schedule first.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 1\n    }, this) : scheduledCourses.length === 0 && selectedSchedule ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"info\",\n      sx: {\n        mt: 2\n      },\n      children: \"No courses scheduled yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 849,\n      columnNumber: 1\n    }, this) : viewMode === 'day' ? renderDayView() : renderWeekView(), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 862,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 856,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: deleteDialogOpen,\n      onClose: handleCloseDeleteDialog,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"Delete Schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: [\"Are you sure you want to delete the schedule \\\"\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: scheduleNameToDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 47\n          }, this), \"\\\"? This action cannot be undone and will permanently remove all scheduled courses associated with this schedule.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDeleteDialog,\n          color: \"inherit\",\n          disabled: deleteLoading,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleConfirmDelete,\n          color: \"error\",\n          autoFocus: true,\n          disabled: deleteLoading,\n          startIcon: deleteLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 28\n          }, this) : /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 61\n          }, this),\n          children: deleteLoading ? 'Deleting...' : 'Delete Schedule'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 892,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 884,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 868,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(CourseChangeDialog, {\n      open: courseChangeDialogOpen,\n      onClose: handleCourseChangeDialogClose,\n      scheduledCourse: selectedCourseForChange,\n      onCourseChanged: handleCourseChanged\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 685,\n    columnNumber: 1\n  }, this);\n};\n_s(ScheduleList, \"AjL9JmswbEm5tUYjrpiBV2FBSz0=\");\n_c = ScheduleList;\nexport default ScheduleList;\nvar _c;\n$RefreshReg$(_c, \"ScheduleList\");","map":{"version":3,"names":["React","useState","useEffect","Box","Card","CardContent","FormControl","InputLabel","MenuItem","Typography","CircularProgress","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","Alert","Snackbar","ToggleButtonGroup","ToggleButton","IconButton","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","ListItemIcon","ListItemText","Select","ViewWeekIcon","ViewDayIcon","DeleteIcon","CheckCircleIcon","scheduleService","semesterService","CourseChangeDialog","jsxDEV","_jsxDEV","DAYS_OF_WEEK","ScheduleList","selectedScheduleId","forceRefresh","onScheduleDeleted","onScheduleSelected","departments","programs","selectedDepartment","selectedProgram","loadingDepartments","loadingPrograms","onDepartmentChange","onProgramChange","_s","refreshCounter","setRefreshCounter","schedules","setSchedules","semesters","setSemesters","selectedSchedule","setSelectedSchedule","scheduledCourses","setScheduledCourses","allTimeSlots","setAllTimeSlots","loading","setLoading","loadingCourses","setLoadingCourses","selectedSemester","setSelectedSemester","viewMode","setViewMode","snackbar","setSnackbar","open","message","severity","deleteDialogOpen","setDeleteDialogOpen","scheduleToDelete","setScheduleToDelete","scheduleNameToDelete","setScheduleNameToDelete","deleteLoading","setDeleteLoading","courseChangeDialogOpen","setCourseChangeDialogOpen","selectedCourseForChange","setSelectedCourseForChange","console","log","fetchSemesters","data","getAllSemesters","length","sortedSemesters","sort","a","b","Date","created_at","getTime","semester_id","error","fetchData","getSchedulesBySemester","undefined","some","s","schedule_id","fetchTimeSlots","getAllTimeSlots","fetchScheduledCourses","getScheduledCourses","handleSemesterChange","event","target","value","handleScheduleChange","newScheduleId","handleViewModeChange","newViewMode","handleCloseSnackbar","handleCourseClick","course","handleCourseChangeDialogClose","handleCourseChanged","prev","handleDeleteClick","scheduleId","scheduleName","handleCloseDeleteDialog","handleConfirmDelete","deleteSchedule","updatedSchedules","filter","getTimeSlotsForDay","day","slot","day_of_week","timeA","start_time","timeB","getCoursesForTimeSlot","timeslotId","timeslot_id","getUniqueTimeSlots","uniqueSlots","Map","forEach","_uniqueSlots$get","timeKey","end_time","has","set","get","push","Array","from","entries","map","_","slots","getTimeslotIdForTimeAndDay","timeStart","timeEnd","find","renderScheduleCell","sx","height","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","courses","p","children","index","_course$course","_course$professor","_course$professor2","isCoreClass","Boolean","is_core","mb","borderRadius","bgcolor","cursor","opacity","boxShadow","onClick","variant","fontWeight","course_id","course_name","display","professor","first_name","last_name","is_override","label","size","color","mt","fontSize","padding","backgroundColor","scheduled_course_id","renderDayView","dayIndex","dayTimeSlots","gutterBottom","borderBottom","pb","component","width","borderRight","name","substring","renderWeekView","uniqueTimeSlots","align","timeSlot","minWidth","renderScheduleMenuItem","schedule","alignItems","justifyContent","pr","is_final","stopPropagation","visibility","gap","flexDirection","xs","sm","fullWidth","flex","id","labelId","onChange","disabled","department","department_id","program","program_id","semester","MenuProps","PaperProps","maxHeight","exclusive","mr","my","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","autoFocus","startIcon","scheduledCourse","onCourseChanged","_c","$RefreshReg$"],"sources":["/Users/tanvinaraynagowda/University-Scheduler--1/frontend/src/components/admin/schedule/ScheduleList.tsx"],"sourcesContent":["// src/components/admin/schedule/ScheduleList.tsx\nimport React, { useState, useEffect } from 'react';\nimport {\nBox,\nCard,\nCardContent,\nFormControl,\nInputLabel,\nMenuItem,\nTypography,\nCircularProgress,\nPaper,\nTable,\nTableBody,\nTableCell,\nTableContainer,\nTableHead,\nTableRow,\nChip,\nAlert,\nSnackbar,\nToggleButtonGroup,\nToggleButton,\nIconButton,\nDialog,\nDialogActions,\nDialogContent,\nDialogContentText,\nDialogTitle,\nButton,\nListItemIcon,\nListItemText,\nSelect,\nSelectChangeEvent\n} from '@mui/material';\nimport ViewWeekIcon from '@mui/icons-material/ViewWeek';\nimport ViewDayIcon from '@mui/icons-material/ViewDay';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport scheduleService, { ScheduledCourse, TimeSlot } from '../../../services/scheduleService';\nimport semesterService from '../../../services/semesterService';\nimport CourseChangeDialog from './CourseChangeDialog';\n\n// Enhanced Schedule interface to include department_id and program_id\ninterface Schedule {\nschedule_id: string;\nsemester_id: string;\nname: string;\nis_final: boolean;\ncreated_at: string;\nupdated_at: string;\nsemester?: {\nname: string;\n};\ndepartment_id?: string;\nprogram_id?: string;\n}\n\ninterface Semester {\nsemester_id: string;\nname: string;\n}\n\ninterface Department {\ndepartment_id: string;\nname: string;\n}\n\ninterface Program {\nprogram_id: string;\nname: string;\ndepartment_id: string;\n}\n\nconst DAYS_OF_WEEK = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n\ntype ViewMode = 'day' | 'week';\n\ninterface ScheduleListProps {\nselectedScheduleId?: string;\nforceRefresh?: number; // A counter that when incremented will force a refresh\nonScheduleDeleted?: () => void; // Callback for when a schedule is deleted\nonScheduleSelected?: (scheduleId: string) => void; // Callback for when a schedule is selected\ndepartments?: Department[];\nprograms?: Program[];\nselectedDepartment?: string;\nselectedProgram?: string;\nloadingDepartments?: boolean;\nloadingPrograms?: boolean;\nonDepartmentChange?: (event: SelectChangeEvent) => void;\nonProgramChange?: (event: SelectChangeEvent) => void;\n}\n\nconst ScheduleList: React.FC<ScheduleListProps> = ({\nselectedScheduleId,\nforceRefresh = 0,\nonScheduleDeleted,\nonScheduleSelected,\ndepartments = [],\nprograms = [],\nselectedDepartment = '',\nselectedProgram = '',\nloadingDepartments = false,\nloadingPrograms = false,\nonDepartmentChange,\nonProgramChange\n}) => {\n// Define refreshCounter state variable\nconst [refreshCounter, setRefreshCounter] = useState<number>(0);\n\nconst [schedules, setSchedules] = useState<Schedule[]>([]);\nconst [semesters, setSemesters] = useState<Semester[]>([]);\nconst [selectedSchedule, setSelectedSchedule] = useState<string>('');\nconst [scheduledCourses, setScheduledCourses] = useState<ScheduledCourse[]>([]);\nconst [allTimeSlots, setAllTimeSlots] = useState<TimeSlot[]>([]); // Renamed from timeSlots\nconst [loading, setLoading] = useState<boolean>(true);\nconst [loadingCourses, setLoadingCourses] = useState<boolean>(false);\nconst [selectedSemester, setSelectedSemester] = useState<string>('');\n// Changed default view mode to 'week' instead of 'day'\nconst [viewMode, setViewMode] = useState<ViewMode>('week');\nconst [snackbar, setSnackbar] = useState<{\nopen: boolean;\nmessage: string;\nseverity: 'success' | 'error' | 'info' | 'warning';\n}>({ open: false, message: '', severity: 'info' });\n\n// New state for delete confirmation dialog\nconst [deleteDialogOpen, setDeleteDialogOpen] = useState<boolean>(false);\nconst [scheduleToDelete, setScheduleToDelete] = useState<string>('');\nconst [scheduleNameToDelete, setScheduleNameToDelete] = useState<string>('');\nconst [deleteLoading, setDeleteLoading] = useState<boolean>(false);\n\n// New state for course change dialog\nconst [courseChangeDialogOpen, setCourseChangeDialogOpen] = useState<boolean>(false);\nconst [selectedCourseForChange, setSelectedCourseForChange] = useState<ScheduledCourse | null>(null);\n\nuseEffect(() => {\n// This ensures the value is read\nconsole.log('Schedule refresh triggered:', refreshCounter);\n}, [refreshCounter]);\n\n// Load semesters\nuseEffect(() => {\nconst fetchSemesters = async () => {\ntry {\nconst data = await semesterService.getAllSemesters();\nsetSemesters(data);\n\nif (data.length > 0) {\n// Select the most recent semester by default\nconst sortedSemesters = [...data].sort((a, b) =>\nnew Date(b.created_at).getTime() - new Date(a.created_at).getTime()\n);\nsetSelectedSemester(sortedSemesters[0].semester_id);\n}\n} catch (error) {\nconsole.error('Error fetching semesters:', error);\nsetSnackbar({\nopen: true,\nmessage: 'Failed to load semesters',\nseverity: 'error'\n});\n}\n};\nfetchSemesters();\n}, []);\n\n// Load schedules for selected semester\n// Load schedules for selected semester\nuseEffect(() => {\n  if (!selectedSemester) return;\n  \n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      console.log('Fetching schedules for semester:', selectedSemester);\n      console.log('Selected department:', selectedDepartment);\n      console.log('Selected program:', selectedProgram);\n      console.log('ForceRefresh value:', forceRefresh);\n      \n      // Pass department and program IDs to the service call\n      const data = await scheduleService.getSchedulesBySemester(\n        selectedSemester,\n        selectedDepartment || undefined,\n        selectedProgram || undefined\n      );\n      \n      console.log('Fetched schedules:', data);\n      setSchedules(data);\n      \n      // If there's a selected schedule ID from props, use it\n      if (selectedScheduleId && data.some(s => s.schedule_id === selectedScheduleId)) {\n        console.log('Setting selected schedule to selectedScheduleId:', selectedScheduleId);\n        setSelectedSchedule(selectedScheduleId);\n      } else if (data.length > 0) {\n        console.log('Setting selected schedule to first schedule:', data[0].schedule_id);\n        setSelectedSchedule(data[0].schedule_id);\n        // Call the callback to notify parent of selection\n        if (onScheduleSelected) {\n          onScheduleSelected(data[0].schedule_id);\n        }\n      } else {\n        console.log('No schedules found, clearing selected schedule');\n        setSelectedSchedule('');\n        setScheduledCourses([]);\n      }\n    } catch (error) {\n      console.error('Error fetching schedules:', error);\n      setSnackbar({\n        open: true,\n        message: 'Failed to load schedules for semester',\n        severity: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  console.log('Schedules useEffect triggered');\n  console.log('Selected semester:', selectedSemester);\n  console.log('Selected department:', selectedDepartment);\n  console.log('Selected program:', selectedProgram);\n  console.log('Selected schedule ID from props:', selectedScheduleId);\n  console.log('ForceRefresh value:', forceRefresh);\n  \n  fetchData();\n}, [selectedSemester, selectedDepartment, selectedProgram, selectedScheduleId, forceRefresh, onScheduleSelected]);\n\n// Auto-select the first schedule when there's only one and notify parent\nuseEffect(() => {\nif (schedules.length === 1 && schedules[0].schedule_id && onScheduleSelected) {\nconsole.log(\"Auto-selecting the only schedule:\", schedules[0].schedule_id);\nsetSelectedSchedule(schedules[0].schedule_id);\nonScheduleSelected(schedules[0].schedule_id);\n}\n}, [schedules, onScheduleSelected]);\n\n// Load all time slots\nuseEffect(() => {\nconst fetchTimeSlots = async () => {\ntry {\nconst data = await scheduleService.getAllTimeSlots();\nsetAllTimeSlots(data); // Now using allTimeSlots\n} catch (error) {\nconsole.error('Error fetching time slots:', error);\nsetSnackbar({\nopen: true,\nmessage: 'Failed to load time slots',\nseverity: 'error'\n});\n}\n};\nfetchTimeSlots();\n}, []);\n\n// Load scheduled courses for selected schedule\nuseEffect(() => {\nconst fetchScheduledCourses = async () => {\nif (!selectedSchedule) return;\n\ntry {\nsetLoadingCourses(true);\nconsole.log('Fetching scheduled courses for schedule:', selectedSchedule);\n\nconst data = await scheduleService.getScheduledCourses(selectedSchedule);\nconsole.log('Fetched scheduled courses:', data.length);\nsetScheduledCourses(data);\n} catch (error) {\nconsole.error('Error fetching scheduled courses:', error);\nsetSnackbar({\nopen: true,\nmessage: 'Failed to load scheduled courses',\nseverity: 'error'\n});\n} finally {\nsetLoadingCourses(false);\n}\n};\nfetchScheduledCourses();\n}, [selectedSchedule]);\n\n// Fixed the type for event parameter\nconst handleSemesterChange = (event: SelectChangeEvent) => {\nsetSelectedSemester(event.target.value);\n};\n\n// Fixed the type for event parameter\nconst handleScheduleChange = (event: SelectChangeEvent) => {\nconst newScheduleId = event.target.value;\nconsole.log(\"Schedule selected manually:\", newScheduleId);\nsetSelectedSchedule(newScheduleId);\n\nif (onScheduleSelected && newScheduleId) {\nconsole.log(\"Calling onScheduleSelected with:\", newScheduleId);\nonScheduleSelected(newScheduleId);\n}\n};\n\nconst handleViewModeChange = (event: React.MouseEvent<HTMLElement>, newViewMode: ViewMode | null) => {\nif (newViewMode) {\nsetViewMode(newViewMode);\n}\n};\n\nconst handleCloseSnackbar = () => {\nsetSnackbar({ ...snackbar, open: false });\n};\n\n// Functions for course change dialog\nconst handleCourseClick = (course: ScheduledCourse) => {\nsetSelectedCourseForChange(course);\nsetCourseChangeDialogOpen(true);\n};\n\nconst handleCourseChangeDialogClose = () => {\nsetCourseChangeDialogOpen(false);\nsetSelectedCourseForChange(null);\n};\n\nconst handleCourseChanged = () => {\nconsole.log(\"Course changed, refreshing data\");\n// Force refresh the schedule list using the local state update function\nsetRefreshCounter(prev => prev + 1);\n\n// Notify parent of changes if callback exists\nif (onScheduleSelected && selectedSchedule) {\nonScheduleSelected(selectedSchedule);\n}\n};\n\n// New functions for schedule deletion\nconst handleDeleteClick = (scheduleId: string, scheduleName: string) => {\nsetScheduleToDelete(scheduleId);\nsetScheduleNameToDelete(scheduleName);\nsetDeleteDialogOpen(true);\n};\n\nconst handleCloseDeleteDialog = () => {\nsetDeleteDialogOpen(false);\nsetScheduleToDelete('');\nsetScheduleNameToDelete('');\n};\n\nconst handleConfirmDelete = async () => {\nif (!scheduleToDelete) return;\n\ntry {\nsetDeleteLoading(true);\nawait scheduleService.deleteSchedule(scheduleToDelete);\n\nsetSnackbar({\nopen: true,\nmessage: 'Schedule deleted successfully',\nseverity: 'success'\n});\n\n// Remove the deleted schedule from state\nconst updatedSchedules = schedules.filter(s => s.schedule_id !== scheduleToDelete);\nsetSchedules(updatedSchedules);\n\n// Update selected schedule if the deleted one was selected\nif (selectedSchedule === scheduleToDelete) {\nif (updatedSchedules.length > 0) {\nsetSelectedSchedule(updatedSchedules[0].schedule_id);\n// Notify parent of new selection\nif (onScheduleSelected) {\nonScheduleSelected(updatedSchedules[0].schedule_id);\n}\n} else {\nsetSelectedSchedule('');\nsetScheduledCourses([]);\n}\n}\n\n// Call the callback if provided\nif (onScheduleDeleted) {\nonScheduleDeleted();\n}\n} catch (error) {\nconsole.error('Error deleting schedule:', error);\nsetSnackbar({\nopen: true,\nmessage: 'Failed to delete schedule',\nseverity: 'error'\n});\n} finally {\nsetDeleteLoading(false);\nhandleCloseDeleteDialog();\n}\n};\n\n// Helper function to get time slots for a specific day\nconst getTimeSlotsForDay = (day: string) => {\nreturn allTimeSlots // Changed from timeSlots to allTimeSlots\n.filter(slot => slot.day_of_week === day)\n.sort((a, b) => {\nconst timeA = new Date(`1970-01-01T${a.start_time}`).getTime();\nconst timeB = new Date(`1970-01-01T${b.start_time}`).getTime();\nreturn timeA - timeB;\n});\n};\n\n// Helper function to get courses scheduled for a specific time slot and day\nconst getCoursesForTimeSlot = (timeslotId: string, day: string) => {\nreturn scheduledCourses.filter(\ncourse => course.timeslot_id === timeslotId && course.day_of_week === day\n);\n};\n\n// Get all unique time slots across all days sorted by start time\nconst getUniqueTimeSlots = () => {\n// Map to store unique time slots by time range\n// Key format: \"start_time-end_time\"\nconst uniqueSlots = new Map<string, TimeSlot[]>();\n\n// Group time slots by time range (regardless of day)\nallTimeSlots.forEach(slot => { // Changed from timeSlots to allTimeSlots\nconst timeKey = `${slot.start_time}-${slot.end_time}`;\nif (!uniqueSlots.has(timeKey)) {\nuniqueSlots.set(timeKey, []);\n}\nuniqueSlots.get(timeKey)?.push(slot);\n});\n\n// Convert the map to array and sort by start time\nreturn Array.from(uniqueSlots.entries())\n.map(([_, slots]) => slots[0]) // Take the first slot from each group\n.sort((a, b) => {\nconst timeA = new Date(`1970-01-01T${a.start_time}`).getTime();\nconst timeB = new Date(`1970-01-01T${b.start_time}`).getTime();\nreturn timeA - timeB;\n});\n};\n\n// Find the timeslot ID for a specific time range and day\nconst getTimeslotIdForTimeAndDay = (timeStart: string, timeEnd: string, day: string) => {\nconst slot = allTimeSlots.find( // Changed from timeSlots to allTimeSlots\ns => s.start_time === timeStart && s.end_time === timeEnd && s.day_of_week === day\n);\nreturn slot?.timeslot_id;\n};\n\n// Render a schedule cell (containing courses for a specific time slot and day)\nconst renderScheduleCell = (timeslotId: string, day: string) => {\n// Early return if timeslotId is undefined (may happen in week view for some combinations)\nif (!timeslotId) return <Box sx={{ height: '100%', minHeight: '60px' }}></Box>;\n\nconst courses = getCoursesForTimeSlot(timeslotId, day);\n\nif (courses.length === 0) {\nreturn <Box sx={{ height: '100%', minHeight: '60px' }}></Box>;\n}\n\nreturn (\n<Box sx={{ p: 1 }}>\n{courses.map((course, index) => {\n// Safely check if course has is_core property through the course object\nconst isCoreClass = course.course && 'is_core' in course.course ?\nBoolean(course.course.is_core) : false;\n\nreturn (\n<Box\nkey={course.scheduled_course_id}\nsx={{\nmb: index !== courses.length - 1 ? 1 : 0,\np: 1,\nborderRadius: 1,\nbgcolor: isCoreClass ? '#e3f2fd' : '#f1f8e9',\ncursor: 'pointer',\n'&:hover': {\nopacity: 0.9,\nboxShadow: 1,\n}\n}}\nonClick={() => handleCourseClick(course)}\n>\n<Typography variant=\"body2\" fontWeight=\"bold\">\n{course.course_id} - {course.course?.course_name || 'Unnamed Course'}\n</Typography>\n<Typography variant=\"caption\" display=\"block\">\nProf: {course.professor?.first_name || ''} {course.professor?.last_name || ''}\n</Typography>\n{course.is_override && (\n<Chip\nlabel=\"Manual Override\"\nsize=\"small\"\ncolor=\"default\"\nsx={{ \n  mt: 0.5, \n  fontSize: '0.6rem', \n  height: '18px',      \n  '& .MuiChip-label': {\n    padding: '0 6px'   \n  },\n  backgroundColor: '#F69420',  \n  color: '#ffffff'         \n}}\n/>\n)}\n</Box>\n);\n})}\n</Box>\n);\n};\n\n// Render the day view (current view)\nconst renderDayView = () => {\nreturn (\n<Box sx={{ mt: 2 }}>\n{DAYS_OF_WEEK.map((day, dayIndex) => {\nconst dayTimeSlots = getTimeSlotsForDay(day);\n\nif (dayTimeSlots.length === 0) return null;\n\nreturn (\n<Box key={day} sx={{ mb: 4 }}>\n<Typography variant=\"h6\" gutterBottom sx={{\nborderBottom: '2px solid #00539F',\npb: 1,\ncolor: '#00539F',\nfontWeight: 'bold'\n}}>\n{day}\n</Typography>\n\n<TableContainer component={Paper} sx={{ boxShadow: 2 }}>\n<Table size=\"small\">\n<TableHead>\n<TableRow sx={{ bgcolor: '#f5f5f5' }}>\n<TableCell width=\"20%\">Time Slot</TableCell>\n<TableCell>Scheduled Courses</TableCell>\n</TableRow>\n</TableHead>\n<TableBody>\n{dayTimeSlots.map((slot, index) => (\n<TableRow\nkey={slot.timeslot_id}\nsx={{\nborderBottom: index < dayTimeSlots.length - 1 ? '1px solid #e0e0e0' : 'none',\n'&:nth-of-type(odd)': { bgcolor: '#fafafa' }\n}}\n>\n<TableCell sx={{ borderRight: '1px solid #e0e0e0' }}>\n<Typography variant=\"body2\" fontWeight=\"medium\">\n{slot.name}\n</Typography>\n<Typography variant=\"caption\" display=\"block\">\n{slot.start_time.substring(0, 5)} - {slot.end_time.substring(0, 5)}\n</Typography>\n</TableCell>\n<TableCell>\n{renderScheduleCell(slot.timeslot_id, day)}\n</TableCell>\n</TableRow>\n))}\n</TableBody>\n</Table>\n</TableContainer>\n\n{/* Add space between days */}\n{dayIndex < DAYS_OF_WEEK.length - 1 && (\n<Box sx={{ height: '30px' }} />\n)}\n</Box>\n);\n})}\n</Box>\n);\n};\n\n// Render the new week view\nconst renderWeekView = () => {\nconst uniqueTimeSlots = getUniqueTimeSlots();\n\nreturn (\n<Box sx={{ mt: 2 }}>\n<TableContainer component={Paper} sx={{ boxShadow: 2 }}>\n<Table size=\"small\">\n<TableHead>\n<TableRow sx={{ bgcolor: '#f5f5f5' }}>\n<TableCell width=\"15%\" sx={{ borderBottom: '2px solid #00539F' }}>Time Slot</TableCell>\n{DAYS_OF_WEEK.map(day => (\n<TableCell\nkey={day}\nalign=\"center\"\nwidth={`${85/DAYS_OF_WEEK.length}%`}\nsx={{\nborderBottom: '2px solid #00539F',\ncolor: '#00539F',\nfontWeight: 'bold'\n}}\n>\n{day}\n</TableCell>\n))}\n</TableRow>\n</TableHead>\n<TableBody>\n{uniqueTimeSlots.map((timeSlot, index) => (\n<TableRow\nkey={`${timeSlot.start_time}-${timeSlot.end_time}`}\nsx={{\nborderBottom: index < uniqueTimeSlots.length - 1 ? '1px solid #e0e0e0' : 'none',\n'&:nth-of-type(odd)': { bgcolor: '#fafafa' }\n}}\n>\n<TableCell sx={{ borderRight: '1px solid #e0e0e0' }}>\n<Typography variant=\"body2\" fontWeight=\"medium\">\n{timeSlot.name}\n</Typography>\n<Typography variant=\"caption\" display=\"block\">\n{timeSlot.start_time.substring(0, 5)} - {timeSlot.end_time.substring(0, 5)}\n</Typography>\n</TableCell>\n\n{DAYS_OF_WEEK.map((day, dayIndex) => {\nconst timeslotId = getTimeslotIdForTimeAndDay(\ntimeSlot.start_time,\ntimeSlot.end_time,\nday\n);\n\nreturn (\n<TableCell\nkey={`${timeSlot.start_time}-${day}`}\nsx={{\nminWidth: '150px',\nborderRight: dayIndex < DAYS_OF_WEEK.length - 1 ? '1px solid #e0e0e0' : 'none'\n}}\n>\n{timeslotId && renderScheduleCell(timeslotId, day)}\n</TableCell>\n);\n})}\n</TableRow>\n))}\n</TableBody>\n</Table>\n</TableContainer>\n</Box>\n);\n};\n\n// Custom rendering of the MenuItem with a delete button\nconst renderScheduleMenuItem = (schedule: Schedule) => (\n<Box\nsx={{\ndisplay: 'flex',\nalignItems: 'center',\njustifyContent: 'space-between',\nwidth: '100%',\npr: 2\n}}\n>\n<Box sx={{ display: 'flex', alignItems: 'center' }}>\n{schedule.is_final && (\n<ListItemIcon sx={{ minWidth: 32 }}>\n<CheckCircleIcon color=\"success\" fontSize=\"small\" />\n</ListItemIcon>\n)}\n<ListItemText>\n{schedule.name}\n</ListItemText>\n</Box>\n\n<IconButton\nsize=\"small\"\ncolor=\"error\"\nonClick={(event) => {\nevent.stopPropagation(); // Prevent the MenuItem from being selected\nhandleDeleteClick(schedule.schedule_id, schedule.name);\n}}\nsx={{\nvisibility: 'hidden',\n'.MuiMenuItem-root:hover &': { visibility: 'visible' }\n}}\n>\n<DeleteIcon fontSize=\"small\" />\n</IconButton>\n</Box>\n);\n\nreturn (\n<Box>\n<Card sx={{ mb: 4, boxShadow: 2 }}>\n<CardContent>\n<Typography variant=\"h6\" gutterBottom>\nCourse Schedule\n</Typography>\n\n<Box sx={{ display: 'flex', gap: 2, flexDirection: { xs: 'column', sm: 'row' } }}>\n{/* Department dropdown */}\n<FormControl fullWidth sx={{ flex: 1 }}>\n<InputLabel id=\"department-select-label\">Department</InputLabel>\n<Select\nlabelId=\"department-select-label\"\nid=\"department-select\"\nvalue={selectedDepartment}\nlabel=\"Department\"\nonChange={onDepartmentChange}\ndisabled={loadingDepartments}\n>\n<MenuItem value=\"\">All Departments</MenuItem>\n{departments.map((department) => (\n<MenuItem key={department.department_id} value={department.department_id}>\n{department.name}\n</MenuItem>\n))}\n</Select>\n</FormControl>\n\n{/* Program dropdown - only enabled when department is selected */}\n<FormControl fullWidth sx={{ flex: 1 }} disabled={!selectedDepartment || loadingPrograms}>\n<InputLabel id=\"program-select-label\">Program</InputLabel>\n<Select\nlabelId=\"program-select-label\"\nid=\"program-select\"\nvalue={selectedProgram}\nlabel=\"Program\"\nonChange={onProgramChange}\n>\n<MenuItem value=\"\">All Programs</MenuItem>\n{programs.map((program) => (\n<MenuItem key={program.program_id} value={program.program_id}>\n{program.name}\n</MenuItem>\n))}\n</Select>\n</FormControl>\n</Box>\n\n<Box sx={{ display: 'flex', gap: 2, flexDirection: { xs: 'column', sm: 'row' }, mt: 2 }}>\n<FormControl fullWidth sx={{ flex: 1 }}>\n<InputLabel id=\"semester-select-label\">Semester</InputLabel>\n<Select\nlabelId=\"semester-select-label\"\nid=\"semester-select\"\nvalue={selectedSemester}\nlabel=\"Semester\"\nonChange={handleSemesterChange}\ndisabled={loading}\n>\n{semesters.map((semester) => (\n<MenuItem key={semester.semester_id} value={semester.semester_id}>\n{semester.name}\n</MenuItem>\n))}\n</Select>\n</FormControl>\n\n<FormControl fullWidth sx={{ flex: 1 }}>\n<InputLabel id=\"schedule-select-label\">Schedule</InputLabel>\n<Select\nlabelId=\"schedule-select-label\"\nid=\"schedule-select\"\nvalue={selectedSchedule}\nlabel=\"Schedule\"\nonChange={handleScheduleChange}\ndisabled={loading || schedules.length === 0}\nMenuProps={{\nPaperProps: {\nsx: {\nmaxHeight: 300,\n'& .MuiMenuItem-root': {\npadding: '4px 16px',\n'&:hover': {\n'& .MuiIconButton-root': {\nvisibility: 'visible'\n}\n}\n}\n}\n}\n}}\n>\n{schedules.length === 0 ? (\n<MenuItem value=\"\">\n<em>No schedules available</em>\n</MenuItem>\n) : (\nschedules.map((schedule) => (\n<MenuItem key={schedule.schedule_id} value={schedule.schedule_id}>\n{renderScheduleMenuItem(schedule)}\n</MenuItem>\n))\n)}\n</Select>\n</FormControl>\n<ToggleButtonGroup\nvalue={viewMode}\nexclusive\nonChange={handleViewModeChange}\naria-label=\"view mode\"\ndisabled={loading || loadingCourses}\nsx={{ height: { sm: '56px' } }}\n>\n{/* Swapped the order of toggle buttons so Week View comes first */}\n<ToggleButton value=\"week\" aria-label=\"week view\">\n<ViewWeekIcon sx={{ mr: 1 }} />\nWeek View\n</ToggleButton>\n<ToggleButton value=\"day\" aria-label=\"day view\">\n<ViewDayIcon sx={{ mr: 1 }} />\nDay View\n</ToggleButton>\n</ToggleButtonGroup>\n</Box>\n\n<Box sx={{ mt: 2, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n<Box>\n<Typography variant=\"body2\" color=\"text.secondary\">\nLegend:\n</Typography>\n<Box sx={{ display: 'flex', gap: 2, mt: 0.5 }}>\n<Box sx={{ display: 'flex', alignItems: 'center' }}>\n<Box sx={{ width: 16, height: 16, bgcolor: '#e3f2fd', borderRadius: 1, mr: 0.5 }}></Box>\n<Typography variant=\"caption\">Core Courses</Typography>\n</Box>\n<Box sx={{ display: 'flex', alignItems: 'center' }}>\n<Box sx={{ width: 16, height: 16, bgcolor: '#f1f8e9', borderRadius: 1, mr: 0.5 }}></Box>\n<Typography variant=\"caption\">Elective Courses</Typography>\n</Box>\n<Box sx={{ display: 'flex', alignItems: 'center' }}>\n<Box sx={{ width: 16, height: 16, bgcolor: '#fff3cd', borderRadius: 1, mr: 0.5 }}></Box>\n<Typography variant=\"caption\">Manual Override</Typography>\n</Box>\n</Box>\n</Box>\n\n{scheduledCourses.length > 0 && (\n<Typography variant=\"body2\">\n{scheduledCourses.length} courses scheduled\n</Typography>\n)}\n</Box>\n</CardContent>\n</Card>\n\n{loadingCourses ? (\n<Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\n<CircularProgress />\n</Box>\n) : schedules.length === 0 ? (\n<Alert severity=\"info\" sx={{ mt: 2 }}>\nNo schedules available for the selected semester. Generate a schedule first.\n</Alert>\n) : scheduledCourses.length === 0 && selectedSchedule ? (\n<Alert severity=\"info\" sx={{ mt: 2 }}>\nNo courses scheduled yet.\n</Alert>\n) : (\nviewMode === 'day' ? renderDayView() : renderWeekView()\n)}\n\n<Snackbar\nopen={snackbar.open}\nautoHideDuration={6000}\nonClose={handleCloseSnackbar}\nanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n>\n<Alert onClose={handleCloseSnackbar} severity={snackbar.severity} sx={{ width: '100%' }}>\n{snackbar.message}\n</Alert>\n</Snackbar>\n\n{/* Delete Confirmation Dialog */}\n<Dialog\nopen={deleteDialogOpen}\nonClose={handleCloseDeleteDialog}\naria-labelledby=\"alert-dialog-title\"\naria-describedby=\"alert-dialog-description\"\n>\n<DialogTitle id=\"alert-dialog-title\">\n{\"Delete Schedule\"}\n</DialogTitle>\n<DialogContent>\n<DialogContentText id=\"alert-dialog-description\">\nAre you sure you want to delete the schedule \"<strong>{scheduleNameToDelete}</strong>\"?\nThis action cannot be undone and will permanently remove all scheduled courses\nassociated with this schedule.\n</DialogContentText>\n</DialogContent>\n<DialogActions>\n<Button\nonClick={handleCloseDeleteDialog}\ncolor=\"inherit\"\ndisabled={deleteLoading}\n>\nCancel\n</Button>\n<Button\nonClick={handleConfirmDelete}\ncolor=\"error\"\nautoFocus\ndisabled={deleteLoading}\nstartIcon={deleteLoading ? <CircularProgress size={20} /> : <DeleteIcon />}\n>\n{deleteLoading ? 'Deleting...' : 'Delete Schedule'}\n</Button>\n</DialogActions>\n</Dialog>\n\n{/* Course Change Dialog */}\n<CourseChangeDialog\nopen={courseChangeDialogOpen}\nonClose={handleCourseChangeDialogClose}\nscheduledCourse={selectedCourseForChange}\nonCourseChanged={handleCourseChanged}\n/>\n</Box>\n);\n};\n\nexport default ScheduleList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}